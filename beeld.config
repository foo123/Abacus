###################################################
#
#   The buildtools repository is at:
#   https://github.com/foo123/Beeld
#
###################################################

settings ={}
    Xpresion = "Xpresion::"
    RegExp = "RegExp::"
@

plugins =[{}]
    "minify" = "!plg:minify"
    "doc" = "!plg:doc"
@

tasks =[{}]

    build =[{}]

        src =[]
            ### Abacus.js ###
            ./src/header.js
            ./src/utils.js
            ./src/math.js
            ./src/footer.js
        @

        # extract header from this file
        header = ./src/header.js

        replace =[{}]
            "@@VERSION@@" = "1.0.9"
            "@@DATE@@" = Xpresion::date("Y-m-d H:i:s")
        @

        # extract documentation
        doc ={}
            "startdoc" = "/**[DOC_MD]"
            "enddoc" = "[/DOC_MD]**/"
            "trim" = RegExp::^\s*\*[ ]?
            "output" = "./manual.md"
        @

        out = ./build/Abacus.js
    @

    #minify =[{}]
    #
    #    src =[]
    #        ./build/Abacus.js
    #    @
    #
    #    # Minify the Package (map of lists)
    #    minify ={}
    #        # Options for Node UglifyJS Compiler (if used, default), (mangle and compress)
    #        uglifyjs =[]
    #            -m -c
    #        @
    #
    #        # Options for Java Closure Compiler (if used)
    #        closure =[]
    #            "--language_in=ECMASCRIPT5_STRICT"
    #        @
    #
    #        # Options for Java YUI Compressor Compiler (if used)
    #        yui =[]
    #            --preserve-semi
    #        @
    #    @
    #
    #    out = ./build/Abacus.min.js
    #@
@
